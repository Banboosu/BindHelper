# AI视频聊天应用

这是一个使用Bun作为运行时环境，实现与AI实时视频聊天的应用。该应用使用与OpenAI兼容的API调用方式，通过Pro/Qwen/Qwen2.5-VL-7B-Instruct模型进行图像识别和对话。应用已添加无障碍功能和实时语音朗读，特别适合视障人士使用。

## 功能特点

- 实时摄像头捕获
- 基于WebSocket的实时通信
- 与AI模型的图像和文本交互
- 响应式用户界面
- 支持移动设备
- **无障碍特性**：
  - ARIA标签和语义化HTML
  - 键盘导航支持
  - 实时语音朗读(TTS)
  - 自定义语音设置

## 技术栈

- **前端**：HTML, CSS, JavaScript, Socket.io客户端, Web Speech API
- **后端**：Bun, Express, Socket.io
- **AI API**：使用与OpenAI兼容的API接口
- **模型**：Pro/Qwen/Qwen2.5-VL-7B-Instruct
- **无障碍技术**：ARIA, Web Speech API (语音合成)

## 安装与运行

### 前提条件

- 安装 [Bun](https://bun.sh/)

### 安装步骤

1. 克隆或下载此仓库
2. 安装依赖
   ```
   bun install
   ```
3. 启动应用
   ```
   bun start
   ```
   或者开发模式（自动重启）
   ```
   bun dev
   ```
4. 在浏览器中访问 `http://localhost:3000`

## 使用说明

1. 点击「开始摄像头」按钮启动摄像头
2. 在输入框中输入消息，或直接点击「开始实时描述」按钮
3. AI将分析视频帧并回复消息
4. 可以随时点击「停止摄像头」按钮停止摄像头

## 无障碍功能使用指南

### 键盘快捷键

- **Alt+S**: 启动/停止摄像头
- **Alt+C**: 开始/停止实时描述
- **Alt+R**: 立即朗读当前AI描述
- **Alt+T**: 开启/关闭语音播报功能

### 语音播报设置

应用提供了语音播报控制面板，允许用户：

1. 开启/关闭语音播报
2. 选择不同的语音（如果浏览器支持）
3. 调整语音速度
4. 随时手动朗读当前描述

语音播报功能会自动朗读：
- 摄像头状态变化
- 系统操作提示
- AI返回的完整描述

## 环境变量

应用使用以下环境变量，可在 `.env` 文件中配置：

- `PORT`：服务器端口（默认：3000）
- `API_KEY`：API密钥
- `API_URL`：API接口地址
- `MODEL`：使用的AI模型名称

## 注意事项

- 请确保浏览器允许访问摄像头
- 语音合成功能需要现代浏览器支持（推荐使用Chrome或Edge获得最佳语音效果）
- 首次使用时，请允许浏览器访问麦克风权限
- 为获得最佳体验，建议使用最新版本的Chrome或Firefox浏览器
- 移动设备上使用时，请确保有良好的网络连接

## 浏览器兼容性

语音合成功能兼容性：
- Chrome 33+
- Edge 14+
- Firefox 49+
- Safari 7+
- Opera 21+

对于中文语音支持，推荐使用Chrome或Edge浏览器，它们通常有更丰富的中文语音选项。